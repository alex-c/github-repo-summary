(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{135:function(e,t,a){},136:function(e,t,a){"use strict";a.r(t);var n,r,i=a(0),o=a.n(i),c=a(15),l=a.n(c),s=a(13),u=a(35),m=a(71),E=a(27);!function(e){e.SET_USER="SET_USER",e.SET_REPOSITORIES="SET_REPOSITORIES",e.SET_STATISTICS="SET_STATISTICS",e.SET_SORTING="SET_SORTING",e.SET_LOADING_STATE="SET_LOADING_STATE",e.SET_FAVORITES="SET_FAVORITES",e.OTHER_ACTION="__any_other_action_type__"}(n||(n={})),function(e){e[e.Alphabetical=0]="Alphabetical",e[e.ByStars=1]="ByStars",e[e.ByUpdateDate=2]="ByUpdateDate"}(r||(r={}));var g={favorites:"GithubRepoSummary.favorites"},f={user:{login:"",name:"",bio:"",location:"",company:"",blog:"",email:"",avatar_url:"",htmlUrl:"",public_repos:0,public_gists:0,followers:0,following:0,repos_url:""},favorites:[],loading_state:!1,language_statistics:null,stars_statistics:null,repositories:[],sorting:r.Alphabetical};var p=a(144),d=a(137),_=a(22),v=a(9),h=a(75),S=a(6);var b=function(e){var t=e.icon,a=e.text,n=e.link;return o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,{icon:t}),n&&o.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},a)||o.a.createElement(o.a.Fragment,null,a))},T=a(83),O=function(e,t){var a=e.slice();switch(t){case r.Alphabetical:a=a.sort(function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:0});break;case r.ByStars:a=a.sort(function(e,t){return t.stargazers_count-e.stargazers_count});break;case r.ByUpdateDate:a=a.sort(function(e,t){return new Date(e.updated_at)<=new Date(t.updated_at)?1:-1})}return a},R=function(e){return{type:n.SET_REPOSITORIES,repositories:e}},y=function(e){return{type:n.SET_LOADING_STATE,loading_state:e}},A=function(e){return{type:n.SET_FAVORITES,favorites:e}},I=a(49),w=a.n(I),C=a(72),k=a(50),D=a.n(k),N={getUser:function(){var e=Object(C.a)(w.a.mark(function e(t){var a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("https://api.github.com/users/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getUserRepositories:function(e,t){return D.a.get("".concat(e,"?page=").concat(t,"&per_page=100"))}},x=function(e){return Math.round(10*e)/10},j=a(20),U=a(143),G=a(10),L=U.a.create({className:"error-toaster",position:G.a.TOP_RIGHT}),B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S.a.ERROR;L.show({message:e,icon:t,intent:j.a.DANGER,timeout:1500})},P=function(e){return function(t){N.getUser(e).then(function(e){var a;t((a=e,{type:n.SET_USER,user:a})),t(y(!0)),t(R([]));var r=e.public_repos;if(r>0){for(var i=1,o=[];r>0;)o.push(N.getUserRepositories(e.repos_url,i)),r-=100,i++;Promise.all(o).then(function(e){var a=[],n=!0,r=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var l=o.value;a.push.apply(a,Object(T.a)(l.data))}}catch(s){r=!0,i=s}finally{try{n||null==c.return||c.return()}finally{if(r)throw i}}t(F(a))})}else t(y(!1))}).catch(function(t){t.message.includes("404")?B('User "'.concat(e,'" could not be found!'),S.a.SEARCH):t.message.includes("403")?B("Rate limit reached! Try again later.",S.a.LOCK):B("An error occured while attempting to retrieve user info from Github.")})}},F=function(e){return function(t){var a,r,i=[],o={max_stars_repo:e[0],total_stars:0,average_stars:0,median_stars:0},c=o.max_stars_repo.stargazers_count,l=!0,s=!1,u=void 0;try{for(var m,E=function(){var e=m.value,t=i.find(function(t){return t.name===e.language});void 0===t?i.push({name:e.language,count:1}):t.count++,o.total_stars+=e.stargazers_count,e.stargazers_count>c&&(o.max_stars_repo=e,c=e.stargazers_count)},g=e[Symbol.iterator]();!(l=(m=g.next()).done);l=!0)E()}catch(p){s=!0,u=p}finally{try{l||null==g.return||g.return()}finally{if(s)throw u}}o.average_stars=(a=o.total_stars,r=e.length,x(a/r)),o.median_stars=function(e){var t=e.slice().sort(function(e,t){return t.stargazers_count-e.stargazers_count}),a=t.length/2;return t.length%2===1?x((t[Math.floor(a)].stargazers_count+t[Math.ceil(a)].stargazers_count)/2):t[a].stargazers_count}(e);var f=i.find(function(e){return null===e.name});void 0!==f&&(f.name="Unknown"),i.sort(function(e,t){return t.count-e.count}),t(function(e,t){return{type:n.SET_STATISTICS,languageStatistics:e,starsStatistics:t}}({languages:i,language_count:i.length,repository_count:e.length},o)),t(M(e))}},z=function(e){return function(t,a){t(function(e){return{type:n.SET_SORTING,sorting:e}}(e));var r=a().repositories,i=O(r,e);t(R(i))}},M=function(e){return function(t,a){var n=a().sorting,r=O(e,n);t(R(r)),t(y(!1))}},H=function(e){return function(t,a){var n=a().favorites;if(!n.map(function(e){return e.name}).includes(e.name)){var r=n.slice();r.push(e),t(A(r))}}},V=function(e){return function(t,a){var n=a().favorites;t(A(n.filter(function(t){return t.name!==e.name})))}},K=function(e){return function(t,a){N.getUser(e).then(function(e){t(H({name:e.login}))}).catch(function(t){t.message.includes("404")?B('User "'.concat(e,'" could not be found!'),S.a.SEARCH):t.message.includes("403")?B("Rate limit reached! Can't check whether user \"".concat(e,'" exists.'),S.a.LOCK):B("An error occured while attempting to retrieve user info from Github.")})}};var W=function(e){var t=Object(s.c)(function(e){return e.favorites}),a=e.user,n=Object(s.b)(),r=function(){return t.map(function(e){return e.name}).includes(a.login)};return o.a.createElement(d.a,{id:"user-summary",elevation:_.a.TWO},o.a.createElement("div",{id:"avatar"},o.a.createElement("img",{src:a.avatar_url,alt:"Github user avatar"})),o.a.createElement("div",{id:"favorite"},o.a.createElement(v.a,{icon:r()?S.a.STAR:S.a.STAR_EMPTY,onClick:function(){r()?n(V({name:a.login})):n(H({name:a.login}))}})),o.a.createElement("p",null,o.a.createElement("b",null,a.name)," /\xa0",o.a.createElement("a",{href:a.htmlUrl,target:"_blank",rel:"noopener noreferrer"},a.login)),o.a.createElement("p",null,a.bio),o.a.createElement("p",null,a.location&&o.a.createElement(b,{icon:S.a.MAP_MARKER,text:a.location}),a.company&&o.a.createElement(b,{icon:S.a.OFFICE,text:a.company}),a.email&&o.a.createElement(b,{icon:S.a.ENVELOPE,text:a.email}),""!==a.blog&&o.a.createElement(b,{icon:S.a.LINK,text:a.blog,link:a.blog})),o.a.createElement("div",null,o.a.createElement(h.a,{icon:S.a.GIT_BRANCH},"Repositories: ",a.public_repos),o.a.createElement(h.a,{icon:S.a.DOCUMENT},"Gists: ",a.public_gists),o.a.createElement(h.a,{icon:S.a.USER},"Followers: ",a.followers),o.a.createElement(h.a,{icon:S.a.USER},"Following: ",a.following)))},Y=a(52),J=a(138);var q=function(e){var t=e.languageStatistics,a=e.starsStatistics;return o.a.createElement(d.a,{id:"repositories-summary",elevation:_.a.TWO},o.a.createElement(J.a,{intent:j.a.PRIMARY,icon:S.a.PIE_CHART},t.language_count," languages used and ",a.total_stars," stars over"," ",t.repository_count," repositories."),o.a.createElement("div",{className:"flex-card-section"},o.a.createElement(Y.b,{data:t.languages.map(function(e){return{angle:e.count,label:e.name}}).reverse(),showLabels:!0,colorDomain:[0,1,2],width:300,height:300}),o.a.createElement(Y.a,{orientation:"horizontal",items:t.languages.map(function(e){return{title:"".concat(e.name,": ").concat(e.count)}}),width:150}),o.a.createElement("div",null,o.a.createElement("p",null,"Max stars:\xa0",o.a.createElement("a",{href:a.max_stars_repo.html_url,target:"_blank",rel:"noopener noreferrer"},a.max_stars_repo.name),"\xa0(",a.max_stars_repo.stargazers_count,")"),o.a.createElement("p",null,"Average stars: ",a.average_stars),o.a.createElement("p",null,"Median stars: ",a.median_stars))))},Q=a(30),X=a(73),Z=a(31),$=a(53),ee=a(139),te=a(77);var ae=function(e){var t=e.repository;return o.a.createElement("div",{className:"repository"},o.a.createElement("div",{className:"repository-header"},o.a.createElement(b,{icon:t.fork?S.a.GIT_BRANCH:S.a.GIT_REPO,text:t.name,link:t.html_url}),t.language&&o.a.createElement("div",{className:"repository-tag"},o.a.createElement(b,{icon:S.a.CODE,text:t.language}))),o.a.createElement("div",null,o.a.createElement("i",null,t.description)),o.a.createElement("div",{className:"repository-footer"},0!==t.stargazers_count&&o.a.createElement(b,{icon:S.a.STAR,text:t.stargazers_count}),0!==t.forks&&o.a.createElement(b,{icon:S.a.GIT_BRANCH,text:t.forks}),0!==t.open_issues&&o.a.createElement(b,{icon:S.a.ISSUE,text:t.open_issues}),o.a.createElement("div",{className:"repository-footer-right"},o.a.createElement(te.a,{content:t.updated_at,boundary:"viewport",position:G.a.TOP},o.a.createElement(b,{icon:S.a.UPDATED,text:new Date(t.updated_at).toLocaleDateString()})))))},ne=function(e){var t;switch(e){case r.Alphabetical:t="Alphabetically";break;case r.ByStars:t="By stars";break;case r.ByUpdateDate:t="Last updated";break;default:t="?"}return t},re=function(e){var t;switch(e){case r.Alphabetical:t=S.a.SORT_ALPHABETICAL;break;case r.ByStars:t=S.a.SORT_NUMERICAL_DESC;break;case r.ByUpdateDate:default:t=S.a.SORT_DESC}return t},ie=a(84),oe=a(82);var ce=function(e){var t=e.sorting,a=e.handler;return o.a.createElement(oe.a,{text:ne(t),icon:re(t),onClick:a(t)})};var le=function(e){var t=e.handler;return o.a.createElement(ie.a,null,o.a.createElement(ce,{sorting:r.Alphabetical,handler:t}),o.a.createElement(ce,{sorting:r.ByStars,handler:t}),o.a.createElement(ce,{sorting:r.ByUpdateDate,handler:t}))};var se=function(e){var t=e.repositories,a=e.sorting,n=Object(s.b)(),r=Object(i.useState)("tiles"),c=Object(Q.a)(r,2),l=c[0],u=c[1];return t.length>0&&o.a.createElement(d.a,{id:"repository-list",elevation:_.a.TWO},o.a.createElement("div",{id:"repository-list-header"},o.a.createElement("div",{id:"repository-list-controls"},o.a.createElement(X.a,null,o.a.createElement(Z.a,{content:o.a.createElement(le,{handler:function(e){return function(){n(z(e))}}}),position:G.a.BOTTOM},o.a.createElement($.b,{text:"Sorting: "+ne(a),icon:re(a),rightIcon:S.a.CARET_DOWN})),o.a.createElement($.b,{text:"tiles"===l?"View table":"View tiles",onClick:function(){u("tiles"===l?"table":"tiles")},icon:"tiles"===l?S.a.TH:S.a.GRID_VIEW}))),o.a.createElement("h2",null,"Repositories")),"tiles"===l?o.a.createElement("div",{id:"repository-list-cards-container"},t.map(function(e,t){return o.a.createElement(ae,{repository:e,key:t})})):o.a.createElement("div",{id:"repository-list-table-container"},o.a.createElement(ee.a,{bordered:!0,striped:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Repository"),o.a.createElement("th",null,"Description"),o.a.createElement("th",null,"Language"),o.a.createElement("th",null,"Stars"),o.a.createElement("th",null,"Forked"),o.a.createElement("th",null,"Open Issues"),o.a.createElement("th",null,"Last Updated"))),o.a.createElement("tbody",null,t.map(function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",null,o.a.createElement("a",{href:e.html_url,target:"_blank",rel:"noopener noreferrer"},e.name)),o.a.createElement("td",null,e.description),o.a.createElement("td",null,e.language),o.a.createElement("td",null,e.stargazers_count),o.a.createElement("td",null,e.forks),o.a.createElement("td",null,e.open_issues),o.a.createElement("td",null,new Date(e.updated_at).toLocaleDateString()))})))))},ue=a(74),me=a(140);var Ee=function(){var e=Object(s.c)(function(e){return e.user}),t=Object(s.c)(function(e){return e.repositories}),a=Object(s.c)(function(e){return e.sorting}),n=Object(s.c)(function(e){return e.language_statistics}),r=Object(s.c)(function(e){return e.stars_statistics}),i=Object(s.c)(function(e){return e.loading_state});return""!==e.login?o.a.createElement(o.a.Fragment,null,o.a.createElement(W,{user:e}),i?o.a.createElement(d.a,{elevation:_.a.TWO},o.a.createElement(ue.a,{intent:j.a.PRIMARY})):o.a.createElement(o.a.Fragment,null,0!==t.length?o.a.createElement("div",null,o.a.createElement(q,{languageStatistics:n,starsStatistics:r}),o.a.createElement(se,{repositories:t,sorting:a})):o.a.createElement(me.a,{icon:S.a.DISABLE,title:"No repositories.",description:"The user has no public repositories."}))):o.a.createElement(me.a,{icon:S.a.DISABLE,title:"No user selected.",description:"Enter a Github user name in the search bar above!"})},ge=a(141);var fe=function(){var e=Object(s.b)(),t=Object(i.useState)(""),a=Object(Q.a)(t,2),n=a[0],r=a[1],c=Object(s.c)(function(e){return e.user.login}),l=function(){""!==n&&n!==c&&e(P(n))};return o.a.createElement("div",{id:"navbar"},o.a.createElement("div",{className:"viewport"},o.a.createElement("div",{id:"navbar-title"},"Github Repo Summary"),o.a.createElement("div",null,o.a.createElement(ge.a,{placeholder:"Github user name",rightElement:o.a.createElement(o.a.Fragment,null,o.a.createElement(te.a,{content:"Search"},o.a.createElement($.b,{icon:S.a.SEARCH,intent:j.a.PRIMARY,minimal:!0,onClick:l})),o.a.createElement(te.a,{content:"Clear"},o.a.createElement($.b,{icon:S.a.TRASH,intent:j.a.DANGER,minimal:!0,onClick:function(){r("")}}))),value:n,onChange:function(e){return r(e.target.value)},onKeyPress:function(e){13===e.charCode&&l()}})),o.a.createElement("div",{id:"navbar-right"},o.a.createElement($.a,{icon:"git-repo",text:"Github",href:"https://github.com/alex-c/github-repo-summary",target:"_blank"}))))},pe=a(142);var de=function(){var e=Object(s.c)(function(e){return e.favorites}),t=Object(i.useState)(!1),a=Object(Q.a)(t,2),n=a[0],r=a[1],c=Object(s.b)(),l=function(){r(!n)};return o.a.createElement(o.a.Fragment,null,e.length>0&&o.a.createElement("div",{id:"favorites"},n?o.a.createElement(pe.a,{leftIcon:S.a.STAR,values:e.map(function(e){return e.name}),onRemove:function(t){1===e.length&&e.map(function(e){return e.name}).includes(t)&&r(!1),c(V({name:t}))},onAdd:function(e){var t=e.shift();t&&c(K(t))},addOnPaste:!0,rightElement:o.a.createElement(o.a.Fragment,null,o.a.createElement(te.a,{content:"Remove all"},o.a.createElement($.b,{icon:S.a.TRASH,intent:j.a.DANGER,minimal:!0,onClick:function(){r(!1),c(A([]))}})),o.a.createElement(te.a,{content:"Done editing"},o.a.createElement($.b,{icon:S.a.TICK,intent:j.a.SUCCESS,minimal:!0,onClick:l})))}):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{id:"favorites-controls"},o.a.createElement(te.a,{content:"Edit"},o.a.createElement(v.a,{icon:S.a.EDIT,onClick:l}))),e.map(function(e,t){return o.a.createElement(h.a,{intent:j.a.PRIMARY,minimal:!0,interactive:!0,key:t,onClick:(a=e.name,function(){c(P(a))})},e.name);var a}))))};var _e=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(fe,null),o.a.createElement("main",{className:"viewport"},o.a.createElement(de,null),o.a.createElement(Ee,null)))};a(135);p.a.onlyShowFocusOnTabs();var ve={user:{login:""},favorites:JSON.parse(localStorage.getItem(g.favorites))||[],loading_state:!1,language_statistics:null,stars_statistics:null,repositories:[],sorting:r.Alphabetical},he=Object(u.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.SET_USER:return Object(E.a)({},e,{user:t.user});case n.SET_REPOSITORIES:return Object(E.a)({},e,{repositories:t.repositories});case n.SET_STATISTICS:return Object(E.a)({},e,{language_statistics:t.languageStatistics,stars_statistics:t.starsStatistics});case n.SET_SORTING:return Object(E.a)({},e,{sorting:t.sorting});case n.SET_LOADING_STATE:return Object(E.a)({},e,{loading_state:t.loading_state});case n.SET_FAVORITES:return localStorage.setItem(g.favorites,JSON.stringify(t.favorites)),Object(E.a)({},e,{favorites:t.favorites});default:return e}},ve,Object(u.a)(m.a));l.a.render(o.a.createElement(s.a,{store:he},o.a.createElement(_e,null)),document.getElementById("root"))},89:function(e,t,a){e.exports=a(136)}},[[89,1,2]]]);
//# sourceMappingURL=main.d34cc1fc.chunk.js.map