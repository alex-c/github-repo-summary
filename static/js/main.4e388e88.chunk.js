(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,a){},119:function(e,t,a){"use strict";a.r(t);var n,r,i=a(0),o=a.n(i),c=a(14),l=a.n(c),s=a(9),u=a(32),m=a(61),E=a(24);!function(e){e.SET_USER="SET_USER",e.SET_REPOSITORIES="SET_REPOSITORIES",e.SET_STATISTICS="SET_STATISTICS",e.SET_SORTING="SET_SORTING",e.SET_LOADING_STATE="SET_LOADING_STATE",e.SET_FAVORITES="SET_FAVORITES",e.SET_PAGINATION="SET_PAGINATION",e.OTHER_ACTION="__any_other_action_type__"}(n||(n={})),function(e){e[e.Alphabetical=0]="Alphabetical",e[e.ByStars=1]="ByStars",e[e.ByUpdateDate=2]="ByUpdateDate"}(r||(r={}));var p={favorites:"GithubRepoSummary.favorites"},g={user:{login:"",name:"",bio:"",location:"",company:"",blog:"",email:"",avatar_url:"",html_url:"",public_repos:0,public_gists:0,followers:0,following:0,repos_url:""},favorites:[],loading_state:!1,language_statistics:null,stars_statistics:null,repositories:[],sorting:r.Alphabetical,pagination:{items_per_page:25,pages:1,current_page:0}};var d=a(127),f=a(120),_=a(21),v=a(7),b=a(65),S=a(4);var h=function(e){var t=e.icon,a=e.text,n=e.link;return o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,{icon:t}),n&&o.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},a)||o.a.createElement(o.a.Fragment,null,a))},T=a(72),O=function(e,t){var a=e.slice();switch(t){case r.Alphabetical:a=a.sort(function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:0});break;case r.ByStars:a=a.sort(function(e,t){return t.stargazers_count-e.stargazers_count});break;case r.ByUpdateDate:a=a.sort(function(e,t){return new Date(e.updated_at)<=new Date(t.updated_at)?1:-1})}return a},R=function(e){return{type:n.SET_REPOSITORIES,repositories:e}},y=function(e){return{type:n.SET_LOADING_STATE,loading_state:e}},A=function(e){return{type:n.SET_FAVORITES,favorites:e}},I=function(e){return{type:n.SET_PAGINATION,pagination:e}},C=a(40),N=a.n(C),k=a(62),w=a(41),D=a.n(w),j={getUser:function(){var e=Object(k.a)(N.a.mark(function e(t){var a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("https://api.github.com/users/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getUserRepositories:function(e,t){return D.a.get("".concat(e,"?page=").concat(t,"&per_page=100"))}},x=function(e){return Math.round(10*e)/10},G=a(20),U=a(126),L=a(8),P=U.a.create({className:"error-toaster",position:L.a.TOP_RIGHT}),B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S.a.ERROR;P.show({message:e,icon:t,intent:G.a.DANGER,timeout:1500})},F=function(e){return function(t){j.getUser(e).then(function(e){var a;t((a=e,{type:n.SET_USER,user:a})),t(y(!0)),t(R([]));var r=e.public_repos;if(r>0){for(var i=1,o=[];r>0;)o.push(j.getUserRepositories(e.repos_url,i)),r-=100,i++;Promise.all(o).then(function(e){var a=[],n=!0,r=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var l=o.value;a.push.apply(a,Object(T.a)(l.data))}}catch(s){r=!0,i=s}finally{try{n||null==c.return||c.return()}finally{if(r)throw i}}t(H(a))})}else t(y(!1))}).catch(function(t){t.message.includes("404")?B('User "'.concat(e,'" could not be found!'),S.a.SEARCH):t.message.includes("403")?B("Rate limit reached! Try again later.",S.a.LOCK):B("An error occured while attempting to retrieve user info from Github.")})}},H=function(e){return function(t){var a,r,i=[],o={max_stars_repo:e[0],total_stars:0,average_stars:0,median_stars:0},c=o.max_stars_repo.stargazers_count,l=!0,s=!1,u=void 0;try{for(var m,E=function(){var e=m.value,t=i.find(function(t){return t.name===e.language});void 0===t?i.push({name:e.language,count:1}):t.count++,o.total_stars+=e.stargazers_count,e.stargazers_count>c&&(o.max_stars_repo=e,c=e.stargazers_count)},p=e[Symbol.iterator]();!(l=(m=p.next()).done);l=!0)E()}catch(d){s=!0,u=d}finally{try{l||null==p.return||p.return()}finally{if(s)throw u}}o.average_stars=(a=o.total_stars,r=e.length,x(a/r)),o.median_stars=function(e){var t=e.slice().sort(function(e,t){return t.stargazers_count-e.stargazers_count}),a=t.length/2;return t.length%2===1?x((t[Math.floor(a)].stargazers_count+t[Math.ceil(a)].stargazers_count)/2):t[a].stargazers_count}(e);var g=i.find(function(e){return null===e.name});void 0!==g&&(g.name="Unknown"),i.sort(function(e,t){return t.count-e.count}),t(function(e,t){return{type:n.SET_STATISTICS,languageStatistics:e,starsStatistics:t}}({languages:i,language_count:i.length,repository_count:e.length},o)),t(z(e))}},M=function(e){return function(t,a){t(function(e){return{type:n.SET_SORTING,sorting:e}}(e));var r=a().repositories,i=O(r,e);t(R(i))}},z=function(e){return function(t,a){var n=a(),r=n.sorting,i=n.pagination,o=O(e,r);t(R(o)),t(I({items_per_page:i.items_per_page,pages:Math.ceil(e.length/i.items_per_page),current_page:1})),t(y(!1))}},V=function(e){return function(t,a){var n=a().favorites;if(!n.map(function(e){return e.name}).includes(e.name)){var r=n.slice();r.push(e),t(A(r))}}},K=function(e){return function(t,a){var n=a().favorites;t(A(n.filter(function(t){return t.name!==e.name})))}},W=function(e){return function(t,a){j.getUser(e).then(function(e){t(V({name:e.login}))}).catch(function(t){t.message.includes("404")?B('User "'.concat(e,'" could not be found!'),S.a.SEARCH):t.message.includes("403")?B("Rate limit reached! Can't check whether user \"".concat(e,'" exists.'),S.a.LOCK):B("An error occured while attempting to retrieve user info from Github.")})}};var Y=function(e){var t=Object(s.c)(function(e){return e.favorites}),a=e.user,n=Object(s.b)(),r=function(){return t.map(function(e){return e.name}).includes(a.login)};return o.a.createElement(f.a,{id:"user-summary",elevation:_.a.TWO},o.a.createElement("div",{id:"avatar"},o.a.createElement("img",{src:a.avatar_url,alt:"Github user avatar"})),o.a.createElement("div",{id:"favorite"},o.a.createElement(v.a,{icon:r()?S.a.STAR:S.a.STAR_EMPTY,onClick:function(){r()?n(K({name:a.login})):n(V({name:a.login}))}})),o.a.createElement("p",null,o.a.createElement("b",null,a.name)," /\xa0",o.a.createElement("a",{href:a.html_url,target:"_blank",rel:"noopener noreferrer"},a.login)),o.a.createElement("p",null,a.bio),o.a.createElement("p",null,a.location&&o.a.createElement(h,{icon:S.a.MAP_MARKER,text:a.location}),a.company&&o.a.createElement(h,{icon:S.a.OFFICE,text:a.company}),a.email&&o.a.createElement(h,{icon:S.a.ENVELOPE,text:a.email}),""!==a.blog&&o.a.createElement(h,{icon:S.a.LINK,text:a.blog,link:a.blog})),o.a.createElement("div",null,o.a.createElement(b.a,{icon:S.a.GIT_BRANCH},"Repositories: ",a.public_repos),o.a.createElement(b.a,{icon:S.a.DOCUMENT},"Gists: ",a.public_gists),o.a.createElement(b.a,{icon:S.a.USER},"Followers: ",a.followers),o.a.createElement(b.a,{icon:S.a.USER},"Following: ",a.following)))},J=a(121),q=a(66),Q=a.n(q);var X=function(e){var t=e.languageStatistics,a=e.starsStatistics;return o.a.createElement(f.a,{id:"repositories-summary",elevation:_.a.TWO},o.a.createElement("div",{className:"flex-card-section"},o.a.createElement("div",null,o.a.createElement(J.a,{intent:G.a.PRIMARY,icon:S.a.CODE},t.language_count," languages used over ",t.repository_count," repositories."),o.a.createElement(Q.a,{type:"pie",width:"500",options:{labels:t.languages.map(function(e){return e.name}),plotOptions:{pie:{expandOnClick:!1}},responsive:[{breakpoint:500,options:{chart:{width:400},legend:{position:"bottom"}}},{breakpoint:400,options:{chart:{width:300},legend:{position:"bottom"}}}]},series:t.languages.map(function(e){return e.count})})),o.a.createElement("div",null,o.a.createElement(J.a,{intent:G.a.PRIMARY,icon:S.a.STAR},a.total_stars," stars over ",t.repository_count," repositories."),o.a.createElement("div",{className:"padded-content"},o.a.createElement("p",null,"Max stars:\xa0",o.a.createElement("a",{href:a.max_stars_repo.html_url,target:"_blank",rel:"noopener noreferrer"},a.max_stars_repo.name),"\xa0(",a.max_stars_repo.stargazers_count,")"),o.a.createElement("p",null,"Average stars: ",a.average_stars),o.a.createElement("p",null,"Median stars: ",a.median_stars)))))},Z=a(28),$=a(63),ee=a(29),te=a(43),ae=a(122),ne=function(e){var t;switch(e){case r.Alphabetical:t="Alphabetically";break;case r.ByStars:t="By stars";break;case r.ByUpdateDate:t="Last updated";break;default:t="?"}return t},re=function(e){var t;switch(e){case r.Alphabetical:t=S.a.SORT_ALPHABETICAL;break;case r.ByStars:t=S.a.SORT_NUMERICAL_DESC;break;case r.ByUpdateDate:default:t=S.a.SORT_DESC}return t},ie=function(e,t){var a=t.items_per_page,n=a*t.current_page;return e.slice(n-a,n)},oe=a(73),ce=a(67);var le=function(e){var t=e.sorting,a=e.handler;return o.a.createElement(ce.a,{text:ne(t),icon:re(t),onClick:a(t)})};var se=function(e){var t=e.handler;return o.a.createElement(oe.a,null,o.a.createElement(le,{sorting:r.Alphabetical,handler:t}),o.a.createElement(le,{sorting:r.ByStars,handler:t}),o.a.createElement(le,{sorting:r.ByUpdateDate,handler:t}))},ue=a(71);var me=function(e){var t=e.repository;return o.a.createElement("div",{className:"repository"},o.a.createElement("div",{className:"repository-header"},o.a.createElement(h,{icon:t.fork?S.a.GIT_BRANCH:S.a.GIT_REPO,text:t.name,link:t.html_url}),t.language&&o.a.createElement("div",{className:"repository-tag"},o.a.createElement(h,{icon:S.a.CODE,text:t.language}))),o.a.createElement("div",null,o.a.createElement("i",null,t.description)),o.a.createElement("div",{className:"repository-footer"},0!==t.stargazers_count&&o.a.createElement(h,{icon:S.a.STAR,text:t.stargazers_count}),0!==t.forks&&o.a.createElement(h,{icon:S.a.GIT_BRANCH,text:t.forks}),0!==t.open_issues&&o.a.createElement(h,{icon:S.a.ISSUE,text:t.open_issues}),o.a.createElement("div",{className:"repository-footer-right"},o.a.createElement(ue.a,{content:t.updated_at,boundary:"viewport",position:L.a.TOP},o.a.createElement(h,{icon:S.a.UPDATED,text:new Date(t.updated_at).toLocaleDateString()})))))};var Ee=function(e){var t=e.pagination,a=t.items_per_page,n=t.pages,r=t.current_page,i=Object(s.b)(),c=function(e){return function(){i(I({items_per_page:a,pages:n,current_page:e}))}};return o.a.createElement("div",{id:"pagination"},o.a.createElement($.a,null,o.a.createElement(te.b,{icon:S.a.DOUBLE_CHEVRON_LEFT,disabled:1===r,onClick:c(1)}),o.a.createElement(te.b,{icon:S.a.CHEVRON_LEFT,disabled:1===r,onClick:c(r-1)}),r>1&&o.a.createElement(te.b,{onClick:c(r-1)},r-1),o.a.createElement(te.b,{active:!0},r),r<n&&o.a.createElement(te.b,{onClick:c(r+1)},r+1),o.a.createElement(te.b,{icon:S.a.CHEVRON_RIGHT,disabled:r===n,onClick:c(r+1)}),o.a.createElement(te.b,{icon:S.a.DOUBLE_CHEVRON_RIGHT,disabled:r===n,onClick:c(n)})))};var pe=function(e){var t=e.repositories,a=e.sorting,n=e.pagination,r=Object(s.b)(),c=Object(i.useState)("tiles"),l=Object(Z.a)(c,2),u=l[0],m=l[1],E=ie(t,n);return t.length>0&&o.a.createElement(f.a,{id:"repository-list",elevation:_.a.TWO},o.a.createElement("div",{id:"repository-list-header",className:"clearfix"},o.a.createElement("span",{id:"repository-list-title"},"Repositories"),o.a.createElement("div",{id:"repository-list-controls"},o.a.createElement($.a,null,o.a.createElement(ee.a,{content:o.a.createElement(se,{handler:function(e){return function(){r(M(e))}}}),position:L.a.BOTTOM,usePortal:!0,portalContainer:document.body},o.a.createElement(te.b,{text:"Sorting: "+ne(a),icon:re(a),rightIcon:S.a.CARET_DOWN})),o.a.createElement(te.b,{text:"tiles"===u?"View table":"View tiles",onClick:function(){m("tiles"===u?"table":"tiles")},icon:"tiles"===u?S.a.TH:S.a.GRID_VIEW})))),"tiles"===u?o.a.createElement("div",{id:"repository-list-cards-container"},E.map(function(e,t){return o.a.createElement(me,{repository:e,key:t})})):o.a.createElement("div",{id:"repository-list-table-container"},o.a.createElement(ae.a,{bordered:!0,striped:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Repository"),o.a.createElement("th",null,"Description"),o.a.createElement("th",null,"Language"),o.a.createElement("th",null,"Stars"),o.a.createElement("th",null,"Forked"),o.a.createElement("th",null,"Open Issues"),o.a.createElement("th",null,"Last Updated"))),o.a.createElement("tbody",null,E.map(function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",null,o.a.createElement("a",{href:e.html_url,target:"_blank",rel:"noopener noreferrer"},e.name)),o.a.createElement("td",null,e.description),o.a.createElement("td",null,e.language),o.a.createElement("td",null,e.stargazers_count),o.a.createElement("td",null,e.forks),o.a.createElement("td",null,e.open_issues),o.a.createElement("td",null,new Date(e.updated_at).toLocaleDateString()))})))),o.a.createElement(Ee,{pagination:n}))},ge=a(64),de=a(123);var fe=function(){var e=Object(s.c)(function(e){return e.user}),t=Object(s.c)(function(e){return e.loading_state}),a=Object(s.c)(function(e){return e.language_statistics}),n=Object(s.c)(function(e){return e.stars_statistics}),r=Object(s.c)(function(e){return e.repositories}),i=Object(s.c)(function(e){return e.sorting}),c=Object(s.c)(function(e){return e.pagination});return""!==e.login?o.a.createElement(o.a.Fragment,null,o.a.createElement(Y,{user:e}),t?o.a.createElement(f.a,{elevation:_.a.TWO},o.a.createElement(ge.a,{intent:G.a.PRIMARY})):o.a.createElement(o.a.Fragment,null,0!==r.length?o.a.createElement("div",null,o.a.createElement(X,{languageStatistics:a,starsStatistics:n}),o.a.createElement(pe,{repositories:r,sorting:i,pagination:c})):o.a.createElement(de.a,{icon:S.a.DISABLE,title:"No repositories.",description:"The user has no public repositories."}))):o.a.createElement(de.a,{icon:S.a.DISABLE,title:"No user selected.",description:"Enter a Github user name in the search bar above!"})},_e=a(124);var ve=function(){var e=Object(s.b)(),t=Object(i.useState)(""),a=Object(Z.a)(t,2),n=a[0],r=a[1],c=Object(s.c)(function(e){return e.user.login}),l=function(){""!==n&&n!==c&&e(F(n))};return o.a.createElement("div",{id:"navbar"},o.a.createElement("div",{className:"viewport"},o.a.createElement("div",{id:"navbar-title"},"Github Repo Summary"),o.a.createElement("div",null,o.a.createElement(_e.a,{placeholder:"Github user name",rightElement:o.a.createElement(o.a.Fragment,null,o.a.createElement(ue.a,{content:"Search"},o.a.createElement(te.b,{icon:S.a.SEARCH,intent:G.a.PRIMARY,minimal:!0,onClick:l})),o.a.createElement(ue.a,{content:"Clear"},o.a.createElement(te.b,{icon:S.a.TRASH,intent:G.a.DANGER,minimal:!0,onClick:function(){r("")}}))),value:n,onChange:function(e){return r(e.target.value)},onKeyPress:function(e){13===e.charCode&&l()}})),o.a.createElement("div",{id:"navbar-right"},o.a.createElement(te.a,{icon:"git-repo",text:"Github",href:"https://github.com/alex-c/github-repo-summary",target:"_blank"}))))},be=a(125);var Se=function(){var e=Object(s.c)(function(e){return e.favorites}),t=Object(i.useState)(!1),a=Object(Z.a)(t,2),n=a[0],r=a[1],c=Object(s.b)(),l=function(){r(!n)};return o.a.createElement(o.a.Fragment,null,e.length>0&&o.a.createElement("div",{id:"favorites"},n?o.a.createElement(be.a,{leftIcon:S.a.STAR,values:e.map(function(e){return e.name}),onRemove:function(t){1===e.length&&e.map(function(e){return e.name}).includes(t)&&r(!1),c(K({name:t}))},onAdd:function(e){var t=e.shift();t&&c(W(t))},addOnPaste:!0,rightElement:o.a.createElement(o.a.Fragment,null,o.a.createElement(ue.a,{content:"Remove all"},o.a.createElement(te.b,{icon:S.a.TRASH,intent:G.a.DANGER,minimal:!0,onClick:function(){r(!1),c(A([]))}})),o.a.createElement(ue.a,{content:"Done editing"},o.a.createElement(te.b,{icon:S.a.TICK,intent:G.a.SUCCESS,minimal:!0,onClick:l})))}):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{id:"favorites-controls"},o.a.createElement(ue.a,{content:"Edit"},o.a.createElement(v.a,{icon:S.a.EDIT,onClick:l}))),e.map(function(e,t){return o.a.createElement(b.a,{intent:G.a.PRIMARY,minimal:!0,interactive:!0,key:t,onClick:(a=e.name,function(){c(F(a))})},e.name);var a}))))};var he=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(ve,null),o.a.createElement("main",{className:"viewport"},o.a.createElement(Se,null),o.a.createElement(fe,null)))};a(118);d.a.onlyShowFocusOnTabs();var Te={user:{login:""},favorites:JSON.parse(localStorage.getItem(p.favorites))||[],loading_state:!1,language_statistics:null,stars_statistics:null,repositories:[],sorting:r.Alphabetical,pagination:{items_per_page:25,pages:1,current_page:1}},Oe=Object(u.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.SET_USER:return Object(E.a)({},e,{user:t.user});case n.SET_REPOSITORIES:return Object(E.a)({},e,{repositories:t.repositories});case n.SET_STATISTICS:return Object(E.a)({},e,{language_statistics:t.languageStatistics,stars_statistics:t.starsStatistics});case n.SET_SORTING:return Object(E.a)({},e,{sorting:t.sorting});case n.SET_LOADING_STATE:return Object(E.a)({},e,{loading_state:t.loading_state});case n.SET_FAVORITES:return localStorage.setItem(p.favorites,JSON.stringify(t.favorites)),Object(E.a)({},e,{favorites:t.favorites});case n.SET_PAGINATION:return Object(E.a)({},e,{pagination:t.pagination});default:return e}},Te,Object(u.a)(m.a));l.a.render(o.a.createElement(s.a,{store:Oe},o.a.createElement(he,null)),document.getElementById("root"))},78:function(e,t,a){e.exports=a(119)}},[[78,1,2]]]);
//# sourceMappingURL=main.4e388e88.chunk.js.map